{% extends 'basic_app/base.html' %}
{% block content %}
<div class="container my-5">
  <!-- Page Header -->
  <div class="text-center mb-5">
    <h2 class="fw-bold">Your Portfolio</h2>
  </div>

  <!-- Portfolio Value Card -->
  <div class="card border-0 shadow-sm mb-5" style="max-width: 600px; margin: 0 auto;">
    <div class="card-body text-center">
      <h5 class="card-title mb-3">Portfolio Value</h5>
      <h2 class="text-success">${{ total_value|floatformat:2 }}</h2>
    </div>
  </div>

  <!-- Holdings Grid -->
  <div class="row g-4">
    {% for stock in stocks %}
    <div class="col-12 col-md-6 col-lg-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body d-flex flex-column justify-content-between">
          <!-- Stock Info -->
          <div>
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h5 class="card-title mb-0">{{ stock.stock_name }}</h5>
              <span class="badge bg-primary">{{ stock.stock_symbol }}</span>
            </div>
            <div class="mb-3">
              <div class="d-flex justify-content-between">
                <span>Quantity:</span>
                <span class="fw-bold">{{ stock.quantity }}</span>
              </div>
              <div class="d-flex justify-content-between">
                <span>Price:</span>
                <span class="fw-bold">${{ stock.stock_price }}</span>
              </div>
            </div>
          </div>
          <!-- Action Buttons -->
          <div class="btn-group w-100">
            <a href="{% url 'basic_app:quantitySub' stock.stock_symbol %}" class="btn btn-outline-danger">-</a>
            <a href="{% url 'basic_app:quantityAdd' stock.stock_symbol %}" class="btn btn-outline-success">+</a>
            <a href="{% url 'basic_app:removeFromPortfolio' stock.stock_symbol %}" class="btn btn-danger">Remove</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
